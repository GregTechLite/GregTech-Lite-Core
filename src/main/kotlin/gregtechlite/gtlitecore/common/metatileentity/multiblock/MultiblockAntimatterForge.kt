package gregtechlite.gtlitecore.common.metatileentity.multiblock

import gregtech.api.GTValues.VOC
import gregtech.api.capability.impl.EnergyContainerList
import gregtech.api.capability.impl.MultiblockRecipeLogic
import gregtech.api.metatileentity.interfaces.IGregTechTileEntity
import gregtech.api.metatileentity.multiblock.IMultiblockPart
import gregtech.api.metatileentity.multiblock.MultiblockAbility.EXPORT_FLUIDS
import gregtech.api.metatileentity.multiblock.MultiblockAbility.IMPORT_FLUIDS
import gregtech.api.metatileentity.multiblock.MultiblockAbility.IMPORT_ITEMS
import gregtech.api.metatileentity.multiblock.MultiblockAbility.INPUT_ENERGY
import gregtech.api.metatileentity.multiblock.MultiblockAbility.INPUT_LASER
import gregtech.api.metatileentity.multiblock.MultiblockAbility.SUBSTATION_INPUT_ENERGY
import gregtech.api.metatileentity.multiblock.RecipeMapMultiblockController
import gregtech.api.pattern.BlockPattern
import gregtech.api.pattern.FactoryBlockPattern
import gregtech.api.util.GTUtility.getFloorTierByVoltage
import gregtech.client.renderer.ICubeRenderer
import gregtechlite.gtlitecore.api.recipe.GTLiteRecipeMaps.ANTIMATTER_FORGE_RECIPES
import gregtechlite.gtlitecore.client.renderer.texture.GTLiteTextures
import gregtechlite.gtlitecore.common.block.variant.GlassCasing
import gregtechlite.gtlitecore.common.block.variant.MetalCasing
import gregtechlite.gtlitecore.common.block.variant.MultiblockCasing
import net.minecraft.client.resources.I18n
import net.minecraft.item.ItemStack
import net.minecraft.util.ResourceLocation
import net.minecraft.world.World
import net.minecraftforge.fml.relauncher.Side
import net.minecraftforge.fml.relauncher.SideOnly
import kotlin.math.max

class MultiblockAntimatterForge(id: ResourceLocation)
    : RecipeMapMultiblockController(id, ANTIMATTER_FORGE_RECIPES)
{

    init
    {
        recipeMapWorkable = AntimatterForgeRecipeLogic(this)
    }

    companion object
    {
        private val casingState = MetalCasing.QUANTUM_ALLOY.state
        private val secondCasingState = MultiblockCasing.GRAVITY_STABILIZATION_CASING.state
        private val coilState = MultiblockCasing.PROTOMATTER_ACTIVATION_COIL.state
        private val glassState = GlassCasing.ANTIMATTER_CONTAINMENT.state
    }

    override fun createMetaTileEntity(tileEntity: IGregTechTileEntity) = MultiblockAntimatterForge(metaTileEntityId)

    override fun initializeAbilities()
    {
        super.initializeAbilities()
        val inputEnergy = ArrayList(getAbilities(INPUT_ENERGY))
        inputEnergy.addAll(getAbilities(INPUT_LASER))
        inputEnergy.addAll(getAbilities(SUBSTATION_INPUT_ENERGY))
        energyContainer = EnergyContainerList(inputEnergy)
    }

    // @formatter:off

    override fun createStructurePattern(): BlockPattern = FactoryBlockPattern.start()
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        DDDDD                        ", "                        D   D                        ", "                        D   D                        ", "                        D   D                        ", "                        DDDDD                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         D D                         ", "                         D D                         ", "                        DDDDD                        ", "                     DDDDDDDDDDD                     ", "                                                     ", "                     DDDDDDDDDDD                     ", "                        DD DD                        ", "                         D D                         ", "                         D D                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         D D                         ", "                         D D                         ", "                        DDCDD                        ", "                        DDCDD                        ", "                        DDCDD                        ", "                     DDDDDCDDDDD                     ", "                  DDDDDDDDCDDDDDDDD                  ", "                     CCCCHHHCCCC                     ", "                  DDDDDDDDCDDDDDDDD                  ", "                     DDDDDCDDDDD                     ", "                        DDCDD                        ", "                        DDCDD                        ", "                        DDCDD                        ", "                         D D                         ", "                         D D                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         D D                         ", "                         D D                         ", "                        DDCDD                        ", "                        DDCDD                        ", "                        DDCDD                        ", "                         DDD                         ", "                         DAD                         ", "                         DAD                         ", "                  DDD   DDADD   DDD                  ", "               DDDDDDDDDDDADDDDDDDDDDD               ", "                  CCC AAADBDAAA CCC                  ", "               DDDDDDDDDDDADDDDDDDDDDD               ", "                  DDD   DDADD   DDD                  ", "                         DAD                         ", "                         DAD                         ", "                         DDD                         ", "                        DDCDD                        ", "                        DDCDD                        ", "                        DDCDD                        ", "                         D D                         ", "                         D D                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                        DDCDD                        ", "                        DDCDD                        ", "                         DAD                         ", "                         DAD                         ", "                         DAD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "               DDD      DDDDD      DDD               ", "              DDDDDDDD    A    DDDDDDDD              ", "               CCCAAAA   ABA   AAAACCC               ", "              DDDDDDDD    A    DDDDDDDD              ", "               DDD      DDDDD      DDD               ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DAD                         ", "                         DAD                         ", "                         DAD                         ", "                        DDCDD                        ", "                        DDCDD                        ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         D D                         ", "                         DCD                         ", "                         DCD                         ", "                         DAD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "            DDDDDD        A        DDDDDD            ", "              CCAA       ABA       AA C              ", "            DDDDDD        A        DDDDDD            ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DAD                         ", "                         DDD                         ", "                         DCD                         ", "                         D D                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DCD                         ", "                         DAD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "           DDDDD          A          DDDDD           ", "            CCAA         ABA         AACC            ", "           DDDDD          A          DDDDD           ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DAD                         ", "                         DCD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         D D                         ", "                         DCD                         ", "                         DDD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "         DDDDD            A            DDDDD         ", "           C A           ABA           A C           ", "         DDDDD            A            DDDDD         ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DDD                         ", "                         DCD                         ", "                         D D                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DCD                         ", "                         DAD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "        DDDDD             A             DDDDD        ", "         CCAA            ABA            AACC         ", "        DDDDD             A             DDDDD        ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DAD                         ", "                         DCD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DDD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "       DDDD               A               DDDD       ", "        C A              ABA              A C        ", "       DDDD               A               DDDD       ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DDD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "       DDD                A                DDD       ", "        CA               ABA               AC        ", "       DDD                A                DDD       ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "      DDD              DDDADDD              DDD      ", "       CA                ABA                AC       ", "      DDD              DDDADDD              DDD      ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DDD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "     DDDD           DDDCCCACCCDDD           DDDD     ", "      C A              CCCBCCC              A C      ", "     DDDD           DDDCCCACCCDDD           DDDD     ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DDD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "     DDD          DDCCDCAAAAACDCCDD          DDD     ", "      CA            CCCBBBBBBBCCC            AC      ", "     DDD          DDCCCAAAAAAACCCDD          DDD     ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "    DDD          DCCACDCCCCCCCDCACCD          DDD    ", "     CA           CCBBBCCCCCCCBBBCC           AC     ", "    DDD          DCCAAACCCCCCCAAACCD          DDD    ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DDD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "    D                  DD   DD                  D    ", "   DDDD         DCAAACDDDDDDDDDCAAACD         DDDD   ", "    C A          CBBBCC       CCBBBC          A C    ", "   DDDD         DCAAACCDDDDDDDCCAAACD         DDDD   ", "    D                  DDDDDDD                  D    ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DDD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "    D                DD       DD                D    ", "   DDD         DCAACCDD E   E DDCCAACD         DDD   ", "    CA          CBBCC   D   D   CCBBC          AC    ", "   DDD         DCAACCDD E   E DDCCAACD         DDD   ", "    D                DD       DD                D    ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "    D              DD           DD              D    ", "   DDD        DCAACDD           DDCAACD        DDD   ", "    CA         CBBC               CBBC         AC    ", "   DDD        DCAACDD           DDCAACD        DDD   ", "    D              DD           DD              D    ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "   D              D               D              D   ", "  DDD        DCAACD               DCAACD        DDD  ", "   CA         CBBC                 CBBC         AC   ", "  DDD        DCAACD               DCAACD        DDD  ", "   D              D               D              D   ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "   D             D                 D             D   ", "  DDD        DCACD                 DCACD        DDD  ", "   CA         CBC                   CBC         AC   ", "  DDD        DCACD                 DCACD        DDD  ", "   D             D                 D             D   ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "   D             D                 D             D   ", "  DDD       DCAACD                 DCAACD       DDD  ", "   CA        CBBC                   CBBC        AC   ", "  DDD       DCAACD                 DCAACD       DDD  ", "   D             D                 D             D   ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DDD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "  D             D                   D             D  ", " DDDD       DCCCD                   DCCCD       DDDD ", "  C A        CBC                     CBC        A C  ", " DDDD       DCACD                   DCACD       DDDD ", "  D             D                   D             D  ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         D D                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ")
        .aisle("                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "  D             D                   D             D  ", " DDD        DDDDD                   DDDDD        DDD ", "  CA         CBC                     CBC         AC  ", " DDD        DCACD                   DCACD        DDD ", "  D             D                   D             D  ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ")
        .aisle("                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "  D            D                     D            D  ", " DDD       DCCCD                     DCCCD       DDD ", "  CA        CBC                       CBC        AC  ", " DDD       DCACD                     DCACD       DDD ", "  D            D                     D            D  ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ")
        .aisle("                        DDDDD                        ", "                        DD DD                        ", "                        DDCDD                        ", "                        DDADD                        ", "                        DDDDD                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "DDDDDDDDDDDDDDDD                     DDDDDDDDDDDDDDDD", "DDDD       DCACDE                   EDCACD       DDDD", "D CA        CBC D                   D CBC        AC D", "DDDD       DCACDE                   EDCACD       DDDD", "DDDDDDDDDDDDDDDD                     DDDDDDDDDDDDDDDD", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        DDDDD                        ", "                        DDADD                        ", "                        DDCDD                        ", "                        DD DD                        ", "                        DDDDD                        ")
        .aisle("                                                     ", "                         D D                         ", "                         AFA                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", " DAD       DCACD                     DCACD       DAD ", "  HAAAAAAAAACBC                       CBCAAAAAAAAAH  ", " DAD       DCACD                     DCACD       DAD ", "               D                     D               ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         AFA                         ", "                         D D                         ", "                                                     ")
        .aisle("                                                     ", "                         D D                         ", "                         AFA                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", " DAAAAAAAAAAAACD                     DCAAAAAAAAAAAAD ", "  HBBBBBBBBBBBC                       CBBBBBBBBBBBH  ", " DAAAAAAAAAAAACD                     DCAAAAAAAAAAAAD ", "               D                     D               ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         AFA                         ", "                         D D                         ", "                                                     ")
        .aisle("                                                     ", "                         D D                         ", "                         AFA                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", " DAD       DCACD                     DCACD       DAD ", "  HAAAAAAAAACBC                       CBCAAAAAAAAAH  ", " DAD       DCACD                     DCACD       DAD ", "               D                     D               ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         AFA                         ", "                         D D                         ", "                                                     ")
        .aisle("                        DDDDD                        ", "                        DD DD                        ", "                        DDCDD                        ", "                        DDADD                        ", "                        DDDDD                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "DDDDDDDDDDDDDDDD                     DDDDDDDDDDDDDDDD", "DDDD       DCACDE                   EDCACD       DDDD", "D CA        CBC D                   D CBC        AC D", "DDDD       DCACDE                   EDCACD       DDDD", "DDDDDDDDDDDDDDDD                     DDDDDDDDDDDDDDDD", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        DDDDD                        ", "                        DDADD                        ", "                        DDCDD                        ", "                        DD DD                        ", "                        DDDDD                        ")
        .aisle("                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "  D            D                     D            D  ", " DDD       DCCCD                     DCCCD       DDD ", "  CA        CBC                       CBC        AC  ", " DDD       DCACD                     DCACD       DDD ", "  D            D                     D            D  ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ")
        .aisle("                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "  D             D                   D             D  ", " DDD        DDDDD                   DDDDD        DDD ", "  CA         CBC                     CBC         AC  ", " DDD        DCACD                   DCACD        DDD ", "  D             D                   D             D  ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ")
        .aisle("                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "  D             D                   D             D  ", " DDDD       DCCCD                   DCCCD       DDDD ", "  CAA        CBC                     CBC        AAC  ", " DDDD       DCACD                   DCACD       DDDD ", "  D             D                   D             D  ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "   D             D                 D             D   ", "  DDD       DCAACD                 DCAACD       DDD  ", "   CA        CBBC                   CBBC        AC   ", "  DDD       DCAACD                 DCAACD       DDD  ", "   D             D                 D             D   ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "   D             D                 D             D   ", "  DDD        DCACD                 DCACD        DDD  ", "   CA         CBC                   CBC         AC   ", "  DDD        DCACD                 DCACD        DDD  ", "   D             D                 D             D   ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "   D              D               D              D   ", "  DDD        DCAACD               DCAACD        DDD  ", "   CA         CBBC                 CBBC         AC   ", "  DDD        DCAACD               DCAACD        DDD  ", "   D              D               D              D   ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "    D              DD           DD              D    ", "   DDD        DCAACDD           DDCAACD        DDD   ", "    CA         CBBC               CBBC         AC    ", "   DDD        DCAACDD           DDCAACD        DDD   ", "    D              DD           DD              D    ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "    D                DD       DD                D    ", "   DDD         DCAACCDD E   E DDCCAACD         DDD   ", "    CA          CBBCC   D   D   CCBBC          AC    ", "   DDD         DCAACCDD E   E DDCCAACD         DDD   ", "    D                DD       DD                D    ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                        DDCDD                        ", "                         DAD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "    D                  DD   DD                  D    ", "   DDDD         DCAAACDDDDDDDDDCAAACD         DDDD   ", "    CAA          CBBBCC       CCBBBC          AAC    ", "   DDDD         DCAAACCDDDDDDDCCAAACD         DDDD   ", "    D                  DD   DD                  D    ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DAD                         ", "                        DDCDD                        ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "    DDD          DCCACDCCCCCCCDCACCD          DDD    ", "     CA           CCBBBCCCCCCCBBBCC           AC     ", "    DDD          DCCAAACCCCCCCAAACCD          DDD    ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "     DDD          DDCCDCAAAAACDCCDD          DDD     ", "      CA            CCCBBBBBBBCCC            AC      ", "     DDD          DDCCCAAAAAAACCCDD          DDD     ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "     DDD            DDDCCCCCCCDDD            DDD     ", "      CA               CCCCCCC               AC      ", "     DDD            DDDCCCCCCCDDD            DDD     ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DCD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "      DDD              DDDDDDD              DDD      ", "       CA                                   AC       ", "      DDD              DDDDDDD              DDD      ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DCD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                        D   D                        ", "       DD               D   D               DD       ", "        A               DD~DD               A        ", "       DD               D   D               DD       ", "                        D   D                        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DAD                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "       DDD                                 DDD       ", "        AA                                 AA        ", "       DDD                                 DDD       ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         DAD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "        DD                                 DD        ", "         A                                 A         ", "        DD                                 DD        ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                         DAD                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "         DD                               DD         ", "          A                               A          ", "         DD                               DD         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         DAD                         ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .aisle("                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "          D                               D          ", "                                                     ", "          D                               D          ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                         D D                         ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ", "                                                     ")
        .where('~', selfPredicate())
        .where('A', states(glassState))
        .where('B', states(coilState))
        .where('C', states(secondCasingState))
        .where('D', states(casingState))
        .where('F', states(secondCasingState)
            .or(abilities(IMPORT_FLUIDS)
                .setPreviewCount(1))
            .or(abilities(IMPORT_ITEMS)
                .setPreviewCount(1))
            .or(abilities(EXPORT_FLUIDS)
                .setPreviewCount(1)))
        .where('E', states(casingState)
            .or(abilities(IMPORT_FLUIDS)
                .setPreviewCount(1))
            .or(abilities(IMPORT_ITEMS)
                .setPreviewCount(1))
            .or(abilities(EXPORT_FLUIDS)
                .setPreviewCount(1)))
        .where('H', states(secondCasingState)
            .or(abilities(INPUT_ENERGY)
                .setMaxGlobalLimited(2)
                .setPreviewCount(1))
            .or(abilities(INPUT_LASER)
                .setMaxGlobalLimited(1)
                .setPreviewCount(1)))
        .where(' ', any())
        .build()

    // @formatter:on

    @SideOnly(Side.CLIENT)
    override fun getBaseTexture(sourcePart: IMultiblockPart?): ICubeRenderer
        = if (recipeMapWorkable.isActive) GTLiteTextures.ANTIMATTER_FORGE_ACTIVE_TEXTURE else GTLiteTextures.ANTIMATTER_FORGE_TEXTURE

    @SideOnly(Side.CLIENT)
    override fun getFrontOverlay(): ICubeRenderer = GTLiteTextures.ANTIMATTER_FORGE_OVERLAY

    override fun addInformation(stack: ItemStack, world: World?, tooltip: MutableList<String>, advanced: Boolean)
    {
        super.addInformation(stack, world, tooltip, advanced)
        tooltip.add(I18n.format("gtlitecore.machine.antimatter_forge.tooltip.1"))
        tooltip.add(I18n.format("gtlitecore.machine.antimatter_forge.tooltip.2"))
        tooltip.add(I18n.format("gtlitecore.machine.antimatter_forge.tooltip.3"))
        tooltip.add(I18n.format("gtlitecore.machine.antimatter_forge.tooltip.4"))
        tooltip.add(I18n.format("gtlitecore.machine.antimatter_forge.tooltip.5"))
        tooltip.add(I18n.format("gtlitecore.machine.antimatter_forge.tooltip.6"))
    }

    override fun canBeDistinct() = false

    override fun shouldShowVoidingModeButton() = true

    override fun hasMaintenanceMechanics() = false

    private inner class AntimatterForgeRecipeLogic(metaTileEntity: RecipeMapMultiblockController?) : MultiblockRecipeLogic(metaTileEntity)
    {

        /**
         * Ignored maximum overclock voltage of energy hatches limit, let it be the maximum voltage
         * of the MTE because we need to consume huge energies for Nano Forge. This is a revert of
         * GTCEu pull request <a href="https://github.com/GregTechCEu/GregTech/pull/2139">#2139</a>.
         */
        override fun getMaximumOverclockVoltage() = maxVoltage

        /**
         * Ignored maximum overclock voltage of energy hatches limit, let it be the maximum voltage
         * of the MTE because we need to consume huge energies for Nano Forge. This is a revert of
         * GTCEu pull request <a href="https://github.com/GregTechCEu/GregTech/pull/2139">#2139</a>.
         */
        override fun getMaxVoltage(): Long
        {
            val energyContainer = energyContainer
            if (energyContainer is EnergyContainerList)
            {
                val voltage: Long
                val amperage: Long
                if (energyContainer.inputVoltage > energyContainer.outputVoltage)
                {
                    voltage = energyContainer.inputVoltage
                    amperage = energyContainer.inputAmperage
                }
                else
                {
                    voltage = energyContainer.outputVoltage
                    amperage = energyContainer.outputAmperage
                }

                return if (amperage == 1L)
                {
                    // amperage is 1 when the energy is not exactly on a tier
                    // the voltage for recipe search is always on tier, so take the closest lower tier
                    VOC[getFloorTierByVoltage(voltage).toInt()]
                }
                else
                {
                    // amperage != 1 means the voltage is exactly on a tier
                    // ignore amperage, since only the voltage is relevant for recipe search
                    // amps are never > 3 in an EnergyContainerList
                    voltage
                }
            }
            return max(energyContainer.inputVoltage.toDouble(),
                energyContainer.outputVoltage.toDouble()).toLong()
        }

        override fun getParallelLimit() = Int.MAX_VALUE

    }

}